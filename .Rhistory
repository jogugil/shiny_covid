layer_world$deathsCumulative <- layer_world$deathsCumulative %>% unlist()
layer_world$transmisionType  <- lapply (layer_world$ISO3,FUN=getValueVar ,var="transmisionType")
layer_world$transmisionType <- layer_world$transmisionType %>% unlist()
layer_world$reported24h      <- lapply (layer_world$ISO3,FUN=getValueVar ,var="reported24h")
layer_world$reported24h <- layer_world$reported24h %>% unlist()
layer_world$casesCumulative  <- lapply (layer_world$ISO3,FUN=getValueVar,var="casesCumulative")
layer_world$casesCumulative <- layer_world$casesCumulative %>% unlist()
layer_world$casesCumulative  <- lapply (layer_world$ISO3,FUN=getValueVar,var="casesCumulative")
layer_world$casesCumulative <- layer_world$casesCumulative %>% unlist()
path_shpWorld <- "./appcovid/data/wordlMap/TM_WORLD_BORDERS_SIMPL-0.3.shp"
layer_world    <- st_read(path_shpWorld)
#Cambio la proyección
layer_world   <- st_transform(layer_world,4326)
getValueVar <- function (code,var) {
global_COvidDataOMS [which(global_COvidDataOMS$ISO3==code),var]
}
layer_world %>% mutate (
casesCumulative =  global_COvidDataOMS$casesCumulative  [which(global_COvidDataOMS$ISO3 == ISO3)],
deathsCumulative =  global_COvidDataOMS$deathsCumulative  [which(global_COvidDataOMS$ISO3 == ISO3)],
transmisionType =  global_COvidDataOMS$transmisionType  [which(global_COvidDataOMS$ISO3 == ISO3)],
reported24h =  global_COvidDataOMS$reported24h  [which(global_COvidDataOMS$ISO3 == ISO3)],
)
View(global_COvidDataOMS)
layer_world %>% mutate (
casesCumulative  =  ifelse ((ISO3 %IN%global_COvidDataOMS$ISO3),
global_COvidDataOMS$casesCumulative  [which(global_COvidDataOMS$ISO3 == ISO3)], 0),
deathsCumulative =  ifelse ((ISO3 %IN%global_COvidDataOMS$ISO3),
global_COvidDataOMS$deathsCumulative  [which(global_COvidDataOMS$ISO3 == ISO3)], 0),
transmisionType  =  ifelse ((ISO3 %IN%global_COvidDataOMS$ISO3),
global_COvidDataOMS$transmisionType  [which(global_COvidDataOMS$ISO3 == ISO3)], 0),
reported24h      =  ifelse ((ISO3 %IN%global_COvidDataOMS$ISO3),
global_COvidDataOMS$reported24h  [which(global_COvidDataOMS$ISO3 == ISO3)], 0)
)
t
layer_world %>% mutate (
casesCumulative  =  ifelse ((ISO3 %IN%global_COvidDataOMS$ISO3),
global_COvidDataOMS$casesCumulative  [which(global_COvidDataOMS$ISO3 == ISO3)], 0),
deathsCumulative =  ifelse ((ISO3 %IN%global_COvidDataOMS$ISO3),
global_COvidDataOMS$deathsCumulative  [which(global_COvidDataOMS$ISO3 == ISO3)], 0),
transmisionType  =  ifelse ((ISO3 %IN%global_COvidDataOMS$ISO3),
global_COvidDataOMS$transmisionType  [which(global_COvidDataOMS$ISO3 == ISO3)], 0),
reported24h      =  ifelse ((ISO3 %IN%global_COvidDataOMS$ISO3),
global_COvidDataOMS$reported24h  [which(global_COvidDataOMS$ISO3 == ISO3)], 0)
)
layer_world %>% mutate (
casesCumulative  =  ifelse ((ISO3 %in%global_COvidDataOMS$ISO3),
global_COvidDataOMS$casesCumulative  [which(global_COvidDataOMS$ISO3 == ISO3)], 0),
deathsCumulative =  ifelse ((ISO3 %in%global_COvidDataOMS$ISO3),
global_COvidDataOMS$deathsCumulative  [which(global_COvidDataOMS$ISO3 == ISO3)], 0),
transmisionType  =  ifelse ((ISO3 %in%global_COvidDataOMS$ISO3),
global_COvidDataOMS$transmisionType  [which(global_COvidDataOMS$ISO3 == ISO3)], 0),
reported24h      =  ifelse ((ISO3 %in%global_COvidDataOMS$ISO3),
global_COvidDataOMS$reported24h  [which(global_COvidDataOMS$ISO3 == ISO3)], 0)
)
ifelse (("USA" %in% global_COvidDataOMS$ISO3),
global_COvidDataOMS$casesCumulative  [which(global_COvidDataOMS$ISO3 == "USA")], 0)
layer_world %>% mutate (
casesCumulative  =  ifelse ((ISO3 %in% global_COvidDataOMS$ISO3),
global_COvidDataOMS$casesCumulative  [which(global_COvidDataOMS$ISO3 == ISO3)], 0))
layer_world %>% mutate (
casesCumulative  =  ifelse ((ISO3 %in% global_COvidDataOMS$ISO3),
global_COvidDataOMS$casesCumulative  [which(global_COvidDataOMS$ISO3 == ISO3)], 0))
path_shpWorld <- "./appcovid/data/wordlMap/TM_WORLD_BORDERS_SIMPL-0.3.shp"
layer_world    <- st_read(path_shpWorld)
#Cambio la proyección
layer_world   <- st_transform(layer_world,4326)
layer_world %>% mutate (
casesCumulative  =  ifelse ((ISO3 %in% global_COvidDataOMS$ISO3),
global_COvidDataOMS$casesCumulative  [which(global_COvidDataOMS$ISO3 == ISO3)], 0),
deathsCumulative =  ifelse ((ISO3 %in%global_COvidDataOMS$ISO3),
global_COvidDataOMS$deathsCumulative  [which(global_COvidDataOMS$ISO3 == ISO3)], 0),
transmisionType  =  ifelse ((ISO3 %in%global_COvidDataOMS$ISO3),
global_COvidDataOMS$transmisionType  [which(global_COvidDataOMS$ISO3 == ISO3)], 0),
reported24h      =  ifelse ((ISO3 %in%global_COvidDataOMS$ISO3),
global_COvidDataOMS$reported24h  [which(global_COvidDataOMS$ISO3 == ISO3)], 0)
)
View(layer_world)
layer_world %>% mutate (
casesCumulative  =  ifelse ((ISO3 %in% global_COvidDataOMS$ISO3),
global_COvidDataOMS$casesCumulative  [which(global_COvidDataOMS$ISO3 == ISO3)], 0),
deathsCumulative =  ifelse ((ISO3 %in%global_COvidDataOMS$ISO3),
global_COvidDataOMS$deathsCumulative  [which(global_COvidDataOMS$ISO3 == ISO3)], 0),
transmisionType  =  ifelse ((ISO3 %in%global_COvidDataOMS$ISO3),
global_COvidDataOMS$transmisionType  [which(global_COvidDataOMS$ISO3 == ISO3)], 0),
reported24h      =  ifelse ((ISO3 %in%global_COvidDataOMS$ISO3),
global_COvidDataOMS$reported24h  [which(global_COvidDataOMS$ISO3 == ISO3)], 0)
)
View(layer_world)
casesCumulative  =  ifelse ((ISO3 %in% global_COvidDataOMS$ISO3),1,0)
layer_world %>% mutate (
casesCumulative  =  ifelse ((ISO3 %in% global_COvidDataOMS$ISO3),
1, 0))
global_COvidDataOMS$casesCumulative  [which(global_COvidDataOMS$ISO3 == "USA")]
layer_world %>% mutate (
casesCumulative  =  ifelse ((ISO3 %in% global_COvidDataOMS$ISO3), print(ISO3);
global_COvidDataOMS$casesCumulative  [which(global_COvidDataOMS$ISO3 == ISO3)], 0))
layer_world %>% mutate (
casesCumulative  =  ifelse ((ISO3 %in% global_COvidDataOMS$ISO3), print(ISO3)
global_COvidDataOMS$casesCumulative  [which(global_COvidDataOMS$ISO3 == ISO3)], 0))
layer_world %>% mutate (
casesCumulative  =  ifelse ((ISO3 %in% global_COvidDataOMS$ISO3),
global_COvidDataOMS$casesCumulative  [which(global_COvidDataOMS$ISO3 == ISO3)], 0))
layer_world %>% mutate (
casesCumulative  =  ifelse ((ISO3 %in% global_COvidDataOMS$ISO3),
global_COvidDataOMS$casesCumulative  [which(ISO3 == global_COvidDataOMS$ISO3)], 0))
getValueVar <- function (cod,var) {
global_COvidDataOMS [which(global_COvidDataOMS$ISO3 == cod),var]
}
layer_world %>% mutate (
casesCumulative  =  ifelse ((ISO3 %in% global_COvidDataOMS$ISO3), print(ISO3);
getValueVar (ISO3,"casesCumulative"), 0))
getValueVar <- function (cod,varia) {
print(ISO3)
print(varia)
global_COvidDataOMS [which(global_COvidDataOMS$ISO3 == cod),varia]
}
layer_world %>% mutate (
casesCumulative  =  ifelse ((ISO3 %in% global_COvidDataOMS$ISO3),
getValueVar (ISO3,"casesCumulative"), 0))
global_COvidDataOMS [which(global_COvidDataOMS$ISO3 == "USA"),"casesCumulative"]
layer_world %>% mutate (
casesCumulative  =  ifelse ((ISO3 %in% global_COvidDataOMS$ISO3),
getValueVar (ISO3,"casesCumulative"), 0))
getValueVar <- function (cod,varia) {
global_COvidDataOMS [which(global_COvidDataOMS$ISO3 == cod),varia]
}
layer_world %>% mutate (
casesCumulative  =  ifelse ((ISO3 %in% global_COvidDataOMS$ISO3),
getValueVar (ISO3,"casesCumulative"), 0))
path_shpWorld <- "./appcovid/data/wordlMap/TM_WORLD_BORDERS_SIMPL-0.3.shp"
layer_world    <- st_read(path_shpWorld)
#Cambio la proyección
layer_world   <- st_transform(layer_world,4326)
getValueVar <- function (cod,varia) {
global_COvidDataOMS [which(global_COvidDataOMS$ISO3 == cod),varia]
}
for(i in 1:nrow(global_COvidDataOMS)) {
if  (ISO3 %in% global_COvidDataOMS$ISO3) {
layer_world$casesCumulative = getValueVar (ISO3,"casesCumulative")
layer_world$deathsCumulative = getValueVar (ISO3,"deathsCumulative")
layer_world$transmisionType = getValueVar (ISO3,"transmisionType")
layer_world$reported24h = getValueVar (ISO3,"reported24h")
} else {
layer_world$casesCumulative = 0
layer_world$deathsCumulative = 0
layer_world$transmisionType = 0
layer_world$reported24h = 0
}
}
for(i in 1:nrow(global_COvidDataOMS)) {
if  (layer_world[i]$ISO3 %in% global_COvidDataOMS$ISO3) {
layer_world[i]$casesCumulative = getValueVar (ISO3,"casesCumulative")
layer_world[i]$deathsCumulative = getValueVar (ISO3,"deathsCumulative")
layer_world[i]$transmisionType = getValueVar (ISO3,"transmisionType")
layer_world[i]$reported24h = getValueVar (ISO3,"reported24h")
} else {
layer_world[i]$casesCumulative = 0
layer_world[i]$deathsCumulative = 0
layer_world[i]$transmisionType = 0
layer_world[i]$reported24h = 0
}
}
for(i in 1:nrow(global_COvidDataOMS)) {
if  (layer_world[i]$ISO3 %in% global_COvidDataOMS$ISO3) {
layer_world[i]$casesCumulative = getValueVar (layer_world[i]$cISO3,"casesCumulative")
layer_world[i]$deathsCumulative = getValueVar (layer_world[i]$cISO3,"deathsCumulative")
layer_world[i]$transmisionType = getValueVar (layer_world[i]$cISO3,"transmisionType")
layer_world[i]$reported24h = getValueVar (layer_world[i]$cISO3,"reported24h")
} else {
layer_world[i]$casesCumulative = 0
layer_world[i]$deathsCumulative = 0
layer_world[i]$transmisionType = 0
layer_world[i]$reported24h = 0
}
}
for(i in 1:nrow(global_COvidDataOMS)) {
if  (layer_world[i]$ISO3 %in% global_COvidDataOMS$ISO3) {
layer_world[i]$casesCumulative = getValueVar (layer_world[i]$ISO3,"casesCumulative")
layer_world[i]$deathsCumulative = getValueVar (layer_world[i]$ISO3,"deathsCumulative")
layer_world[i]$transmisionType = getValueVar (layer_world[i]$ISO3,"transmisionType")
layer_world[i]$reported24h = getValueVar (layer_world[i]$ISO3,"reported24h")
} else {
layer_world[i]$casesCumulative = 0
layer_world[i]$deathsCumulative = 0
layer_world[i]$transmisionType = 0
layer_world[i]$reported24h = 0
}
}
getValueVar <- function (cod,var) {
global_COvidDataOMS [which(global_COvidDataOMS$ISO3 == cod),var]
}
layer_world %>% mutate (
casesCumulative  =  ifelse ((ISO3 %in% global_COvidDataOMS$ISO3),
getValueVar (ISO3,"casesCumulative"), 0),
deathsCumulative =  ifelse ((ISO3 %in%global_COvidDataOMS$ISO3),
global_COvidDataOMS$deathsCumulative  [which(global_COvidDataOMS$ISO3 == ISO3)], 0),
transmisionType  =  ifelse ((ISO3 %in%global_COvidDataOMS$ISO3),
global_COvidDataOMS$transmisionType  [which(global_COvidDataOMS$ISO3 == ISO3)], 0),
reported24h      =  ifelse ((ISO3 %in%global_COvidDataOMS$ISO3),
global_COvidDataOMS$reported24h  [which(global_COvidDataOMS$ISO3 == ISO3)], 0)
)
casesCumulative <- lapply(layer_world$ISO3,getValueVar, var="casesCumulative")
str(casesCumulative )
getValueVar <- function (cod,var) {
if(cod %in% global_COvidDataOMS$ISO3)
global_COvidDataOMS [which(global_COvidDataOMS$ISO3 == cod),var]
else
0
}
casesCumulative <- lapply(layer_world$ISO3,getValueVar, var="casesCumulative")
casesCumulative  [1]
casesCumulative  %>% unlist()
layer_worl$casesCumulative <-    casesCumulative  %>% unlist()
layer_wordl$casesCumulative <-    casesCumulative  %>% unlist()
layer_world$casesCumulative <- casesCumulative  %>% unlist()
View(layer_world)
path_shpWorld <- "./appcovid/data/wordlMap/TM_WORLD_BORDERS_SIMPL-0.3.shp"
layer_world    <- st_read(path_shpWorld)
#Cambio la proyección
layer_world   <- st_transform(layer_world,4326)
getValueVar <- function (cod,var) {
if(cod %in% global_COvidDataOMS$ISO3)
global_COvidDataOMS [which(global_COvidDataOMS$ISO3 == cod),var]
else
0
}
casesCumulative <- lapply(layer_world$ISO3,getValueVar, var="casesCumulative")
layer_world$casesCumulative <- casesCumulative  %>% unlist()
deathsCumulative <-   lapply(layer_world$ISO3,getValueVar, var="deathsCumulative")
layer_world$deathsCumulative <- deathsCumulative  %>% unlist()
transmisionType <-  lapply(layer_world$ISO3,getValueVar, var="transmisionType")
layer_world$transmisionType <- transmisionType  %>% unlist()
reported24h    <-  lapply(layer_world$ISO3,getValueVar, var="reported24h")
layer_world$reported24h <- reported24h  %>% unlist()
palBin <- colorBin ("magma", bins = 10, domain= layer_world$casesCumulative,na.color='transparent')
popup <- addLabelOMS (dataOMS_first)
mapOMSContinent <- leaflet(addLabelOMS (layer_world)) %>%
setMaxBounds(-180, -90, 180, 90) %>%
setView(0, 20, zoom = 2) %>%
addTiles() %>%
addProviderTiles(providers$CartoDB.Positron, group = "Light") %>%
addProviderTiles(providers$HERE.satelliteDay, group = "Satellite") %>%
addLayersControl(
baseGroups    = c("Light", "Satellite")
) %>%
addEasyButton(easyButton(
icon    = "glyphicon glyphicon-globe", title = "Reset zoom",
onClick = JS("function(btn, map){ map.setView([20, 0], 2); }"))) %>%
addEasyButton(easyButton(
icon    = "glyphicon glyphicon-map-marker", title = "Locate Me",
onClick = JS("function(btn, map){ map.locate({setView: true, maxZoom: 6}); }"))) %>%
addPolygons(color = "#444444" ,
weight = 1,
smoothFactor = 0.5,
opacity = 1.0,
fillOpacity = 0.5,
fillColor = ~palnumeric (layer_world$casesCumulative),   # Color de llenado
data= layer_world,
highlightOptions = highlightOptions(color = "white", weight = 2,
bringToFront = TRUE), #highlight cuando pasas el cursor
labelOptions = labelOptions(direction = "auto"),
popup = popup) %>%
addLegend(title = "Cumulative Cases", pal = palQuantile, values = layer_world$casesCumulative,
position = "bottomright")
mapOMSContinent
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp()
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
View(proxy_summaryDT_state)
View(proxy_summaryDT_state)
force(input)
runApp('appcovid')
runApp()
runApp('appcovid')
View(mapOMSContinent)
runApp('appcovid')
shiny::runApp('appcovid')
runApp('appcovid')
selectize_acumulate_Variable
input$selectize_acumulate_Variable
input$selectize_acumulate_type
input$global_map_zoom
runApp('appcovid')
mapOMSContinent
View(global_COvidDataOMS)
View(global_COvidDataOMS)
runApp('appcovid')
mapOMSContinent
input$selectize_acumulate_type
mapOMSContinent
input$selectize_acumulate_type
selectize_acumulate_Variable
c
c
input$selectize_acumulate_Variable
runApp('appcovid')
mapOMSContinent
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
View(layer_world)
View(layer_world)
runApp('appcovid')
runApp('appcovid')
mapOMS
runApp('appcovid')
View(df)
runApp('appcovid')
runApp('appcovid')
dataOMS_atFilter(input$selectize_acumulate_type)
runApp('appcovid')
runApp('appcovid')
dataOMS
data
View(getValueVar)
runApp('appcovid')
dataOMS
typetrasnmision
typetrasnmision
data
runApp('appcovid')
data
runApp('appcovid')
data
dataOMS
typetrasnmision
layer_world %>%
filter (transmisionType %in% typetrasnmision)
View(global_COvidDataOMS)
View(global_COvidDataOMS)
runApp('appcovid')
data
dataOMS
dataOMS
runApp('appcovid')
dataOMS
runApp('appcovid')
df
str(df)
dataOMS
df
runApp('appcovid')
runApp('appcovid')
runApp()
runApp()
runApp('appcovid')
runApp()
df
View(global_COvidDataOMS)
View(global_COvidDataOMS)
runApp('appcovid')
typetrasnmision
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
mapOMS
runApp('appcovid')
runApp('appcovid')
input$selectize_acumulate_Variable
View(data)
View(data)
runApp('appcovid')
input$selectize_acumulate_Variable
runApp('appcovid')
popup
mapOMS
runApp('appcovid')
runApp('appcovid')
data
input$selectize_acumulate_type
?leaflet
runApp('appcovid')
runApp('appcovid')
runApp()
runApp()
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
strftime(Sys.Date(), format = "%d.%m.%Y")
View(dataOMS)
shiny::runApp('appcovid')
runApp()
runApp()
runApp()
global_COvidDataWDMeterWorld$world
global_COvidDataWDMeterWorld$ActiveCases
runApp('appcovid')
strftime(current_date, format = "%d.%m.%Y")
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp()
runApp()
runApp('appcovid')
runApp('appcovid')
runApp()
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp()
n
n
n
s
f
c
runApp('appcovid')
runApp('appcovid')
runApp()
View(global_COvidDataWDMeterContinent)
View(global_COvidDataWDMeterContinent)
global_COvidDataWDMeterCountry
global_COvidDataWDMeterContinent
total <- global_COvidDataWDMeterWorld$world
global_COvidDataWDMeterContinent$prop <- global_COvidDataWDMeterContinent %>%
mutate ( prop = continent/total)
View(global_COvidDataWDMeterContinent)
View(global_COvidDataWDMeterContinent)
total <- global_COvidDataWDMeterWorld$world
global_COvidDataWDMeterContinent$prop <- global_COvidDataWDMeterContinent %>%
mutate ( prop = continent/total,
prop_cont = continent/sum(continent)
)
View(global_COvidDataWDMeterContinent)
View(global_COvidDataWDMeterContinent)
View(global_COvidDataWDMeterContinent)
View(global_COvidDataWDMeterContinent)
names(global_COvidDataWDMeterContinent)
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
names (global_COvidDataWDMeterContinent)
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
body_globalWDM <-   fluidRow(
fluidRow(
uiOutput("box_globalDataWorld")
),
fluidRow(
box(width = 12,
class = "summaryWDMEter",
style = 'padding:0px;',
column(
plotOutput("globalCases_ContinentWDMETER"),
width = 6,
),
column(
plotOutput("globalDeatchs_ContinentWDMETER"),
width = 6,
)
),
box(width = 12,
column(
plotOutput("globalRecovered_ContinentWDMETER"),
width = 6,
),
column(
plotOutput("globalTests_ContinentWDMETER"),
width = 6,
)
)
)
)
runApp('appcovid')
View(dataOMS_atFilter)
View(global_COvidDataWDMeterContinent)
View(global_COvidDataWDMeterContinent)
View(global_COvidDataWDMeterContinent)
View(global_COvidDataWDMeterContinent)
runApp('appcovid')
runApp('appcovid')
runApp('appcovid')
source('app.R')
source('app.R')
